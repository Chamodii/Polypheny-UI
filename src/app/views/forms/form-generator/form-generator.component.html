<a href="https://juristr.com/blog/2017/10/demystify-dynamic-angular-forms/">tutorial1</a>,
<a href="http://jasonwatmore.com/post/2018/05/10/angular-6-reactive-forms-validation-example">tutorial2</a>
<br>
<app-toast [toasts]="toasts"></app-toast>
<ng-container *ngIf="formObj && form">
	<form (ngSubmit)="onSubmit(form.value, $event)" [formGroup]="form">
		<div class="row" id="form-generator-main">
			<div class="col-md-12">
				<h1 *ngIf="formObj.title">{{formObj.title}}</h1><br>
				<p *ngIf="formObj.description">{{formObj.description}}</p><br>
			</div>
			<ng-container *ngFor="let group of formObj.groups |Â keyvalue">
				<div class="col-lg-4 form-group" *ngIf="group.value.configs.length>0">
					<h5>{{group.value.title}}</h5>
					<p>{{group.value.description}}</p>

					<ng-container *ngFor="let config of group.value.configs">
						<ng-container [ngSwitch]="config.webUiFormType">
							<div class="input-group">
								<div class="input-group-prepend">
									<span class="input-group-text" id="basic-addon1">{{ config.key }}</span>
								</div>
								<ng-container *ngSwitchCase="'TEXT'">
									<input [formControlName]="config.key" [id]="config.key" type="text" class="form-control" [ngClass]="inputValidation(config.key)">
								</ng-container>
								<ng-container *ngSwitchCase="'NUMBER'">
									<input [formControlName]="config.key" [id]="config.key" type="number" class="form-control" [ngClass]="inputValidation(config.key)">
								</ng-container>

								<div class="invalid-feedback" *ngIf="submitted && !form.controls[config.key].valid">
									<div *ngIf="form.controls[config.key].errors.required">
										{{ config.key }} is required.
									</div>
									<div *ngIf="form.controls[config.key].errors.email">
										invalid email
									</div>
								</div>
								<div class="valid-feedback" *ngIf="submitted && form.controls[config.key].valid && form.controls[config.key].dirty">
									valid
								</div>
							</div>
						</ng-container>

					</ng-container>
					<button *ngIf="form.dirty" type="submit" class="btn btn-light btn-sm float-right save-configs"><i class="fa fa-save"></i></button>

				</div>

			</ng-container>

		</div>
	</form>
</ng-container>

<!--<div class="row" *ngIf="formObj && form">
	<div class="col-lg-6">
		<strong>Form Value</strong>
		<pre>{{ form.value | json }}</pre>
		<strong>Form is valid:</strong> {{form.valid}}
	</div>
</div>

<div class="row" *ngIf="!formObj">
	<p class="text-danger">No form was loaded.</p>
</div>
-->
