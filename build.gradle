
group 'ch.unibas.dmi.dbis.polyphenydb-ui'


def versionMajor = 1
def versionMinor = 0
def versionQualifier = 'SNAPSHOT'
version = versionMajor + '.' + versionMinor + '-' + versionQualifier


buildscript {
    repositories {
        mavenCentral()
        jcenter()
        maven {
            url "https://plugins.gradle.org/m2/"
        }
    }
    dependencies {
		classpath "com.moowork.gradle:gradle-node-plugin:1.3.1"
    }
}


repositories {
    maven {
        // DBIS Artifactory
        url 'https://dbis-artifactory.dmi.unibas.ch/maven2/'
    }
    flatDir {
        dirs 'libs'
    }
    mavenCentral()
    jcenter()
}


apply plugin: 'java'
apply plugin: 'maven'
apply plugin: 'com.moowork.node'



dependencies {
    
}


node {
  version = '11.14.0'
  npmVersion = '6.7.0'
  download = true
}


task npmCi(type: NpmTask) {
    dependsOn npmSetup
    npmCommand = ["ci"]
    inputs.file("package.json")
    inputs.file("package-lock.json")
    outputs.dir("node_modules")
}


jar.dependsOn 'npmCi'

jar {
  from 'dist/src' into 'static'
}


npm_install.dependsOn(npm_cache_clean)

